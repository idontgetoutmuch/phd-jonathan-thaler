%\documentclass[format=acmsmall, review=false, screen=true]{acmart}		% ICFP
%\documentclass[format=sigplan, review=true]{acmart}		% HASKELL SYMPOSIUM 
\documentclass[format=sigconf, review=true]{acmart}		% IFL

\usepackage{float}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{ifthen}
\usepackage{minted}
\usepackage{verbatim}

% Metadata Information
%% use defaults for review submission.
%\acmConference[HS18]{Haskell Symposium}{2018}{09}
%\acmYear{2018}
%\copyrightyear{2018}
\acmConference[IFL'18]{International Symposium on Implementation and Application of Functional Languages}{August 2019}{Lowell, MA, USA}
\acmYear{2019}
\copyrightyear{2019}
%\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}

% Copyright
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}	% = copyright transfer to ACM
%\setcopyright{acmlicensed} 		% = retaining copyright but granting ACM exclusive publication rights
%\setcopyright{rightsretained}  % = open access on payment of a fee
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}

% TODO : get the data
% DOI
% \acmDOI{0000001.0000001}

% TODO: fill in
% Paper history
\received{March 2018}
%\received[revised]{March 2018}
%\received[accepted]{March 2018}

% Document starts
\begin{document}

% set to true to compile haskell code formated with minted package
% requires pygmentize!
\providecommand\haskellMinted{true}
\ifthenelse{\equal{\haskellMinted}{true} }{
\newminted[HaskellCode]{haskell}{fontsize=\footnotesize}
}{
\newenvironment{HaskellCode}
{\begin{comment}} % seems not to work, don't know why the f***
{\end{comment}}
}

% Title portion. Note the short title for running heads
\title[Pure functional epidemics]{Pure functional epidemics}
\subtitle{An Agent-Based Approach}

\author{Jonathan Thaler}
%\orcid{TODO}
\email{jonathan.thaler@nottingham.ac.uk}
\author{Thorsten Altenkirch}
\email{thorsten.altenkirch@nottingham.ac.uk}
\author{Peer-Olaf Siebers}
\email{peer-olaf.siebers@nottingham.ac.uk}
\affiliation{%
  \institution{University of Nottingham}
  \streetaddress{7301 Wollaton Rd}
  \city{Nottingham}
  \postcode{NG8 1BB}
  \country{United Kingdom}}

\begin{abstract}
%TODOs
%	TODO do we need all the pictures?
%	TODO signposting: introduce things more clearly - we do this because...
%	TODO we have much more space now: can we bring in sections from the first, too long version?
%	
%	OK fix RNG correlation bug and compare dynamics
%		-> it seems that fixing this results in quite different dynamics. Compare dynamics of Random Monad as well: if it comes closer then maybe there is really something wrong with the correlation between the RNGs
%
%	FAIR fix referee comment: "Some entries in the references lack details for finding them without a search engine, e.g. 26, 27, 28. 
%	OK correlation in Yampa version: A) fix it or B) mention that this is actually a problem and simply wrong in Simulation (but not in a game), the next step solves that problem, and leave the bug in as an educational example where functional programming can encourage bugs if not carefully thinking about it	
%	OK dependent types: klarer machen was wir dort wollen (agent-interaction, internal state transitions, safe environment access, totality checking)	
%	OK fix referee comment: In an English text citations should not be nouns (the authors of [x]), they are parenthesised additions. Removing them should leave a readable text. 
%	OK fix referee comment "You often say "The authors of [XY] discuss/present ...". This is bad for two reasons. First of all, numeric references should
%	not be used as a part of the sentence, because the "[XY]" form typographically is an annotation, and also because there's no info conveyed by a number and flipping back and forth is not very nice. Furthermore, it is semantically not what I think you mean. The authors of a given paper may have done a lot of things in their lives, but I think you actually mean that the paper you refer to discusses/presents these things. If you simply name the authors and say "A and B discuss/present ... [XY]", then you avoid both problems.
%	OK Is reference 2 still in preparation, since 2005?"
%	OK performance: ignore as far as possible and only mention in further work
%	OK we started with high hopes: remove completely
%	OK section 4: put into background
%	OK related work vorne lassen
%	OK fix referee comment: Also citations such as [6], [9], [12] should be combined into [6, 9, 12].

Agent-Based Simulation (ABS) is a methodology in which a system is simulated in a bottom-up approach by modelling the micro interactions of its constituting parts, called agents, out of which the global system behaviour emerges.

So far mainly object-oriented techniques and languages have been used in ABS. Using the SIR model of epidemiology, which allows to simulate the spreading of an infectious disease through a population, we show how to use pure (lack of implicit side-effects) Functional Reactive Programming to implement ABS. With our approach we can guarantee the reproducibility of the simulation already at compile time and rule out a specific class of run-time bugs, which is not possible with traditional object-oriented languages. Also, we claim that this representation is conceptually quite elegant and opens the way to formally reason about ABS.
\end{abstract}

%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below.
%
% TODO needs to be generated
%\begin{CCSXML}
%<ccs2012>
% <concept>
%  <concept_id>10010520.10010553.10010562</concept_id>
%  <concept_desc>Computer systems organization~Embedded systems</concept_desc>
%  <concept_significance>500</concept_significance>
% </concept>
% <concept>
%  <concept_id>10010520.10010575.10010755</concept_id>
%  <concept_desc>Computer systems organization~Redundancy</concept_desc>
%  <concept_significance>300</concept_significance>
% </concept>
% <concept>
%  <concept_id>10010520.10010553.10010554</concept_id>
%  <concept_desc>Computer systems organization~Robotics</concept_desc>
%  <concept_significance>100</concept_significance>
% </concept>
% <concept>
%  <concept_id>10003033.10003083.10003095</concept_id>
%  <concept_desc>Networks~Network reliability</concept_desc>
%  <concept_significance>100</concept_significance>
% </concept>
%</ccs2012>
%\end{CCSXML}
%
%\ccsdesc[500]{Computer systems organization~Embedded systems}
%\ccsdesc[300]{Computer systems organization~Redundancy}
%\ccsdesc{Computer systems organization~Robotics}
%\ccsdesc[100]{Networks~Network reliability}

%
% End generated code
%

\keywords{Functional Reactive Programming, Monadic Stream Functions, Agent-Based Simulation}

\maketitle

\input{./tex/introduction.tex}

\input{./tex/relatedResearch.tex}

\input{./tex/background.tex}

\input{./tex/sirModel.tex}

\input{./tex/functionalApproach.tex}

\input{./tex/conclusion.tex}

\input{./tex/furtherResearch.tex}

\begin{acks}
The authors would like to thank I. Perez, H. Nilsson, J. Greensmith, M. Baerenz, H. Vollbrecht, S. Venkatesan, J. Hey and the referees of Haskell Symposium 2018 for constructive feedback, comments and valuable discussions.
\end{acks}

% Bibliography
\bibliographystyle{ACM-Reference-Format}
%% Citation style
%% Note: author/year citations are required for papers published as an
%% issue of PACMPL.
%%\citestyle{acmauthoryear}   %% For author/year citations
\bibliography{../../../references/phdReferences.bib}

\end{document}
