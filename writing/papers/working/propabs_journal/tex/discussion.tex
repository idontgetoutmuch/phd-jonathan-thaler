\section{Discussion}
\label{sec:discussion}
We have shown how to encode the \textit{informal} specification of the susceptible agent behaviour into a \textit{formal} one through the use of functions and property tests. We have omitted tests for the infected agents as they follow conceptually the same patterns. The testing of transitions of the infected agents work slightly different though as they follow an exponential distribution but are encoded in an equal fashion as demonstrated with the susceptible agent. The case for the recovered agent is a bit more subtle, due to its behaviour: it simply stays \texttt{Recovered} \textit{forever}. This is a property which cannot be tested in a reasonable way with neither property-based nor unit testing as it is simply not computable. Only a white box test in the case of a code review would reveal whether the implementation is actually correct or not.
 
Statistical sequential hypothesis testing can also be applied to the example of hypothesis testing in exploratory models in the paper of \cite{thaler_show_2019}. In their case the expected coverage is encoded as in our case but instead of passing all tests unconditionally, a property is checked and the outcome is passed as argument to \texttt{cover}.

Another useful application for \texttt{cover} and \texttt{checkCoverage} are checking whether two different implementations of the same model result in the same distributions \textit{under random model parameters}. Another use case is encoding model invariants of the distribution generated, for example in the case of the SIR model, the number of agents stays always constant, the number of susceptible is monotonic decreasing and the number of recovered monotonic decreasing \textit{under random model parameters}.

%\subsection{Emulating failure}
%As already mentioned, \textit{all} test cases have to pass for the whole property test to succeed. If just a single test case fails, the whole property test fails. This requirement is sometimes too strong, especially when we are dealing with stochastic systems like ABS.
%
%The function \texttt{cover} can be used to emulate failure of test cases and get a measure of failure. Instead of computing the \texttt{True/False} property in the last \texttt{prop} argument, we set the last argument always to \texttt{True} and compute the \texttt{True/False} property in the second \texttt{Bool} argument, indicating whether the test case belongs to the class of passed tests or not. This has the effect that \textit{all} test cases are successful but that we get a distribution of failed and successful ones. In combination with \texttt{checkCoverage}, this is a particularly powerful pattern for testing ABS, which allows us to test hypotheses and statistical tests on distributions as will be shown in the following chapters.