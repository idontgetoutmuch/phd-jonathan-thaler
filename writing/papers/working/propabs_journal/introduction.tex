\section{Introduction}
\label{sec:introduction}
TODO: can we write a more compelling introduction e.g. using the gintis case?

TODO: \cite{hammer_tongs_north_2018} could help in showing various ABS development methods

introduce the gintis case, then mention that unfortunately code testing in ABS is strongly neglected (see related work). why: we hypothesise that its because unit testing is not very suitable to test ABS in general due to the latters stochastic nature.

%TODO: write another start, this is copied from the conference paper!
%When implementing an agent-based simulation (ABS) it is of fundamental importance that the implementation is correct up to some specification and that this specification matches the real world in some way. This process is called verification and validation (V\&V), where \textit{validation} is the process of ensuring that a model or specification is sufficiently accurate for the purpose at hand whereas \textit{verification} is the process of ensuring that the model design has been transformed into a computer model with sufficient accuracy \cite{robinson_simulation:_2014}. In other words, validation determines if we are we building the \textit{right model}, and verification if we are building the \textit{model right} up to some specification \cite{balci_verification_1998}.

This paper picks up this conceptual work \cite{thaler_show_2019}, puts it into a much more technical perspective and demonstrates additional techniques of property-based testing in the context of ABS, which was not covered in the conceptual paper. More specifically, this paper shows how to encode agent specifications into property tests, using an agent-based SIR model inspired by the work \cite{macal_agent-based_2010} as use case. Following an event-driven approach it is shown how to express an agent specification in code by relating random input events to specific output events. Further, showing the use of specific property-based testing features which allow expressing expected coverage of data distributions, it is shown how transition probabilities can be tested. By doing this, this paper demonstrates how property-based testing works on a technical level, how specifications can be put into code and how probabilities can be expressed and tested using statistically robust verification. This underlines the conclusion of \cite{thaler_show_2019}, that property-based testing maps naturally to ABS. Further, this work shows that in the context of ABS, property-based testing is strictly more powerful than unit testing as it allows to run thousands of test cases automatically instead of constructing each manually and because it is able to encode probabilities, something unit testing is not capable of in general.

The paper is structured as follows: in section \ref{sec:proptesting} property-based testing is introduced on a technical level. In section \ref{sec:sirmodel} the agent-based SIR model is introduced, together with its informal event-driven specification. Section \ref{sec:method} contains the main contribution of the paper, where it is shown how to encode agent specifications and transition probabilities with property-based testing. In section \ref{sec:discussion} the approach is discussed and related to the work of \cite{thaler_show_2019} and other use cases. Finally, section \ref{sec:conclusions} concludes and points out further research.