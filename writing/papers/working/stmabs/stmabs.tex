\documentclass[format=acmsmall, review=true, screen=true]{acmart}

\usepackage{booktabs} % For formal tables

\usepackage{float}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{ifthen}
\usepackage{minted}
\usepackage{verbatim}
\usepackage{multirow}

% Metadata Information
\acmJournal{TOMACS}
\acmVolume{28}
\acmNumber{4}
\acmArticle{0}
\acmYear{2018}
\acmMonth{10}
\copyrightyear{2018}
%\acmArticleSeq{9}

% Copyright
%\setcopyright{none}
%\setcopyright{acmcopyright}
\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}

% DOI
\acmDOI{0000001.0000001}

% Paper history
\received{October 2018}

% Document starts
\begin{document}

%TODO 
% side-effects: remove hyphen
% remove sequential comparisons of java/GPU/repast
% add property-based testing as method to check that two implementations are the same / concurrency has no influence. cite my own paper from summersim
% use wording Agent-Based Modelling (ABM) instead of ABS
% amazon EC not S2!!

\newminted[HaskellCode]{haskell}{fontsize=\footnotesize}

\title[A Tale Of Lock-Free Agents]{A Tale Of Lock-Free Agents}
\subtitle{Towards Software Transactional Memory in parallel Agent-Based Simulation}

\author{Jonathan Thaler}
\orcid{https://orcid.org/0000-0001-8736-0479}
\email{jonathan.thaler@nottingham.ac.uk}
\author{Peer-Olaf Siebers}
\email{peer-olaf.siebers@nottingham.ac.uk}
\affiliation{
  \institution{University of Nottingham}
  \streetaddress{7301 Wollaton Rd}
  \city{Nottingham}
  \postcode{NG8 1BB}
  \country{United Kingdom}}

\begin{abstract}
With the decline of Moore's law and the ever increasing availability of cheap massively parallel hardware, it becomes more and more important to embrace parallel programming methods to implement Agent-Based Simulations (ABS). This has been acknowledge in the field a while ago and numerous research on distributed parallel ABS exists, focusing primarily on Parallel Discrete Event Simulation as the underlying mechanism. However, these concepts and tools are inherently difficult to master and apply and often overkill in case implementers simply want to parallelise their own, custom agent-based model implementation. However, with the established programming languages in the field, Python, Java and C++, it is not easy to address the complexities of parallel programming due to unrestricted side effects and the intricacies of low-level locking semantics. Therefore, in this paper we propose the use of a lock-free approach to parallel ABS using Software Transactional Memory (STM) in conjunction with the pure functional programming language Haskell, which in combination, removes some of the problems and complexities of parallel implementations in imperative approaches.

We present two case studies where we compare the performance of lock-based and lock-free STM implementations in two different well known Agent-Based Models, where we investigate both the scaling performance under increasing number of CPUs and the scaling performance under increasing number of agents. We show that the lock-free STM implementations consistently outperform the lock-based ones and scale much better to increasing number of CPUs both on local machines and on Amazon Cloud Services. Further, by utilizing the pure functional language Haskell we gain the benefits of immutable data and lack of unrestricted side effects guaranteed at compile-time, making validation easier and leading to increased confidence in the correctness of an implementation, something of fundamental importance and benefit in parallel programming in general and scientific computing like ABS in particular.
\end{abstract}

%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below.
%
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10010147.10010341.10010349.10010355</concept_id>
<concept_desc>Computing methodologies~Agent / discrete models</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10010147.10010341.10010349.10010362</concept_id>
<concept_desc>Computing methodologies~Massively parallel and high-performance simulations</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10010147.10010341.10010366.10010368</concept_id>
<concept_desc>Computing methodologies~Simulation languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Computing methodologies~Agent / discrete models}
\ccsdesc[500]{Computing methodologies~Massively parallel and high-performance simulations}
\ccsdesc[300]{Computing methodologies~Simulation languages}

\keywords{Agent-Based Simulation, Software Transactional Memory, Parallel Programming, Concurrency, Functional Programming, Haskell}

\maketitle

\input{./tex/introduction.tex}

%\input{./tex/relatedWork.tex}

\input{./tex/background.tex}

\input{./tex/stmAndABS.tex}

\input{./tex/cs_1_sir.tex}

\input{./tex/cs_2_sugarScape.tex}

\input{./tex/conclusions.tex}

\input{./tex/furtherResearch.tex}

\begin{acks}
The authors would like to thank J. Hey and M. Handley for constructive feedback, comments and valuable discussions.
\end{acks}

% Bibliography
\bibliographystyle{ACM-Reference-Format}
\bibliography{references.bib}

\end{document}
