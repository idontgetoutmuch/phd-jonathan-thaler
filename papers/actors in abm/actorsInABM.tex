%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% University/School Laboratory Report
% LaTeX Template
% Version 3.1 (25/3/14)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% Linux and Unix Users Group at Virginia Tech Wiki 
% (https://vtluug.org/wiki/Example_LaTeX_chem_lab_report)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{graphicx} % Required for the inclusion of images
\usepackage{natbib} % Required to change bibliography style to APA
\usepackage{amsmath} % Required for some math elements 
\usepackage{hyperref}

\setlength\parindent{0pt} % Removes all indentation from paragraphs

%\usepackage{times} % Uncomment to use the Times New Roman font

%----------------------------------------------------------------------------------------
%	DOCUMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{Using the Actor Model in Agent-Based Simulation} % Title

\author{Jonathan \textsc{Thaler}} 

\date{\today}

\begin{document}

\maketitle 

\begin{abstract}
The Actor-Model, a model of concurrency, has been around since the paper \cite{Hewitt_1973} in 1973. It was a major influence in designing the concept of Agents and although there are important differences between Actors and Agents there are huge similarities thus the idea to use actors to build agent-based simulations comes quite natural. Although there are papers around using the actor model as basis for their ABMS unfortunately no proper theoretical treatment of using the actor-model in implementing agent-based simulations has been done so far. This paper looks into how the more theoretical foundations of the suitability of actor-model to ABMS and what the upsides and downsides of using it are.
\end{abstract}

\section{Introduction}
\url{http://www.grids.ac.uk/Complex/ABMS/}

\subsection{The Actor Model}
Read in the following order


\begin{enumerate}
\item \cite{Hewitt_1973}
\item \cite{Greif_1975}
\item \cite{Clinger_1981}
\item \cite{Agha_1986}
\item \cite{Agha_1997}
\item \cite{Hewitt_2007}
\item \cite{Hewitt_2010}
\item \cite{Agha_2004}
\end{enumerate}

upside: extreme huge number of agnts possible due to distributed and parallel technology 
downside: depends on system \& hardware: scheduler, system time, systime resolution (not very nice for scientific computation), much more complicated, debugging difficult due to concurrency, no global notion of time appart from systemtime, thus always runs in real-time, but there is no global notion of time in the actor model anyway, no EDSL full of technical details, no determinism, no reasoning

\subsection{Agents vs. Actors}
Agents more a high-level concept, Actors low level, technical concurrency primitives

\subsection{Actors are pure functional!}

\subsection{Hypothesis}
This makes simulations very difficult and also due to concurrency implementing a sync conversation among agents is very cumbersome. I have already experience with the Actor Model when implementing a small version of my Master-Thesis Simulation in Erlang which uses the Actor Model as well. For a continuous simulation it was actually not that bad but the problem there was that between a round-trip between 2 agents other messages could have already interfered - this was a problem when agents trade with each other, so one has to implement synchronized trading where only messages from the current agent one trades with are allowed otherwise budget constraints could be violated. Thus I think Erlang/Akka/Actor Model is better suited for distributed high-tolerance concurrent/parallel systems instead for simulations. Note: this is definitely a major point I have to argue in my thesis: why I am rejecting the actor model.

AKKA: thus my prediction is: akka/actor model is very well suited to simulations which 1. dont rely on global time 2. dont have multi-step conversations: interactions among agents which are only question-answer. TODO: find some classical simulation model which satisfies these criterias.

\section{Actor Model implementations}
\subsection{Erlang}
TODO: erlang is an old implementation of the actor model

\subsection{Akka}
TODO: akka is a modern implementation of the actor model

\section{Theoretical reflections}

\subsection{The problem of time}
 how can we simulate global time? how can we implement multistep conversations (by futures)?

The real problem seems to be concurrency but i feel we can simulate concurrency by synchronizing to continuous time. computations are carried out after another but because time is explicitly modelled they happen logically at the same time. these rules hold: an agent cannot be in two conversations at the same time, the agent can be in only one or none conversation at a given time t.

What if time is of no importance and only the continuous dynamics are of interest?

To put it another way: real concurrency (with threads) makes time implicit which is what one does NOT want in simulation. Maybe FRP is the way to go because it allows to explicitly model continuous and discrete time, but I have to get into FRP first to make a proper judgement about its suitability.

\subsection{Conversations}
new concept: not single, async messages, but syncronous conversations which (can) take time = multiple synchronous messages between agents which (can) change the state of an agent in the end.

\section{Example implementation}

\subsection{Wildfire with/without wind}
"This is a model of a wildfire. Vegetation is modeled as grid cells - agents in discrete space. The burning time of a cell is proportional to the amount of “fuel” in the cell, which is randomly generated at the model startup. While burning, the cell may cause ignition in adjacent cells. You can cause the initial ignition by clicking a cell. The ignition may also be caused by a bomb dropped by the aircraft - an agent moving in continuous 2D space that overlaps the discrete space. This model, among other things, shows how the two types of space can be linked. The model is computationally very efficient because there are no time steps in this model; the behavior of vegetation cells and the aircraft is defined in the form of a statechart. Unlike in the full version, in this model wind is not taken into consideration."

"This is a model of a wildfire. Vegetation is modeled as grid cells - agents in discrete space. The burning time of a cell is proportional to the amount of “fuel” in the cell, which is randomly generated at the model startup. While burning, the cell may cause ignition in adjacent cells. The probability of ignition depends on the wind direction (which you can change on the fly). You can cause the initial ignition by clicking a cell. The ignition may also be caused by a bomb dropped by the aircraft – an agent moving in continuous 2D space that overlaps the discrete space. This model, among other things, shows how the two types of space can be linked. The model is computationally very efficient because there are no time steps in this model; the behavior of vegetation cells and the aircraft is defined in the form of a statechart."

\begin{enumerate}
\item No time steps.
\item One-Step interaction.
\end{enumerate}

\subsection{Discrete SIR/S}
\begin{enumerate}
\item Discrete time steps.
\item One-Step interaction.
\end{enumerate}

\section{Decentralized bartering}

\begin{enumerate}
\item Continuous time.
\item Multi-Step interactions.
\end{enumerate}

\section{Further Research}
\subsection{Pure functional approach}
\subsection{Explicit time}

\section{Conclusion}
\subsection{Real concurrency not needed in simulation}
AKKA is nice but I think the actor model is not very well suited for simulations  due to inherent concurrency where time is implicit. 

real concurrency is not needed: simultaneous events can be modeled through explicit time but calculated sequential - when we reduce agents to process only one message after another and not multiple concurrently. thus true parallelism is only a technical detail for performance enhancement.


%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\bibliographystyle{apalike}

\bibliography{./bib/actorsinabm.bib}


\end{document}