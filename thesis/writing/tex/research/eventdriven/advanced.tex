\section{Advanced Features}
\label{sec:advanced_eventdriven_ABS}

In the previous section we established the basics of event-driven ABS. It is now clear how events are represented, how agent identity is handled, how agents receive and schedule events, how events are scheduled and domain state is sampled. Furthermore, by using the \textit{tagless final} approach, we arrived at an elegant, extensible and robust solution, which separates specification, the agent and its behaviour, from its implementation, a \textit{pure} interpreter. 

In this section we present more advanced concepts of event-driven ABS, necessary in models with much higher complexity than the simple SIR. We developed these concepts using the Sugarscape model as introduced in Chapter \ref{sec:sugarscape}. Consequently we will discuss them from this model's perspective. More specifically, we show how to create and remove agents dynamically during simulation, add a shared mutable environment, model local mutable agent state and finally how synchronous agent interactions can be implemented. Together with the basics of event-driven ABS, with these concepts established it should be possible to implement a wide range of event-driven ABS models. For this we developed a full implementation of the Sugarscape model, in which we explored the concepts presented in this chapter, with the code accessible from the \href{https://github.com/thalerjonathan/haskell-sugarscape}{code repository}~\cite{thaler_sugarscape_repository}.

\input{./tex/research/eventdriven/advanced/sugarscape.tex}

\input{./tex/research/eventdriven/advanced/dynamic.tex}

\input{./tex/research/eventdriven/advanced/environment.tex}

\input{./tex/research/eventdriven/advanced/local.tex}

\input{./tex/research/eventdriven/advanced/interactions.tex}