\documentclass[oneside]{book}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

\usepackage[toc,page]{appendix}
\usepackage{minted}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{amsmath} % Required for some math elements 
\usepackage{pdflscape}
\usepackage{pdfpages}
\usepackage{float}
\usepackage{subcaption}
\usepackage{verbatim}
\usepackage{epigraph}
\usepackage{titlesec}
\usepackage{multirow}
\usepackage[]{algorithm2e}

\interfootnotelinepenalty=10000

\newminted[HaskellCode]{haskell}{fontsize=\footnotesize}

\makeatletter
\titleformat{\part}[display]
  {\Huge\scshape\filright}
  {\partname~\thepart:}
  {20pt}
  {\thispagestyle{epigraph}}
\makeatother
\setlength\epigraphwidth{.6\textwidth}

\begin{document}

\begin{titlepage}
	\centering
	\includegraphics[width=0.60\textwidth]{./logo/UoN_Primary_Logo_RGB.png}\par\vspace{1cm}
	{\scshape\Large PhD Thesis\par}
	\vspace{1.5cm}
	%{\huge\bfseries Foundations Of Pure Functional \\ Agent-Based Simulation \par}
%	{\huge\bfseries Pure Functional Programming \\ In Agent-Based Simulation \par}
	{\huge\bfseries The Pure Functional Programming Paradigm \\ In Agent-Based Simulation \par}
	\vspace{2cm}
	{\Large Jonathan Thaler (4276122) \\ \itshape jonathan.thaler@nottingham.ac.uk \par}
	\vfill
	supervised by\par
	Dr. Peer-Olaf \textsc{Siebers} \\
	Dr. Thorsten \textsc{Altenkirch}

	\vfill

	{\large \today\par}
\end{titlepage}

\cleardoublepage

\section*{Abstract}
This thesis shows how to implement Agent-Based Simulations (ABS) using the \textit{pure} functional programming paradigm and what the benefits and drawbacks are when doing so. As language of choice, Haskell is used due to its modern nature, increasing use in real-world applications and \textit{pure} nature. The thesis presents various implementation techniques to ABS and then discusses concurrency and parallelism and verification and validation in ABS in a pure functional setting. Additionally the thesis briefly discusses the use of dependent types in ABS, to close the gap between specification and implementation - something the presented implementation techniques don't focus on.
Finally a case-study is presented which tries to bring together the insights of the previous chapters by replicating an agent-based model both in pure and dependently typed functional programming. The agent-based model which was selected was much discussed in ABS communities as it claimed to have solved a fundamental problem of economics but it was then found that the implementation had a number of bugs which shed doubt on the validity and correctness of the results. The thesis' case study investigates whether this failure could have happened in pure and dependent functional programming and is a further test to see of how much value functional programming is to ABS. \\

TODO "first draft" milestone until end of May 2019
\begin{enumerate}
	\item draft Discussion part: a lot of work, only bits and pieces

	\item implement Gintis Case-Study and focus on property-tests and reasoning and potential directions for a dependently-typed implementation. this will be highly important for my internal assessor 
\end{enumerate}

TODO "finalise research" milestone until end of July 2019
\begin{enumerate}
	\item Generalising ABS: extract the foundational properties: agents as monad / comonad / arrow and discuss their implications from an abstract point of view

	\item finish gintis case-study

	\item optional: implement SIR equilibrium-totality correspondence in Idris, closely related to the property-based testing, is presented as an appendix at the moment and thus treated as optional
\end{enumerate}

TODO "finalising, reflecting and filling in holes" milestone until end of August 2019
\begin{enumerate}
	\item finalising all chapters
	
	\item Write final introduction
	\item Write final conclusion
	\item Write final abstract
	\item finalise methodology: needs overhaul and focussing, put SIR and Sugarscape in there, short monad transformer section in methodology)
	
	\item Reading: Ionescu thesis
	
	\item Understand Ionescu: check what ionescou wants from his students and what literaure he cites, watch YouTube video

	\item Refine Presentation: Has to come across as a thesis, not a technical report! Need to discuss concepts more generally and derive more concepts from the explanations, otherwise it looks like an advanced technical report.
\end{enumerate}

TODO "cleaning up / polishing" milestone until end of September 2019
\begin{enumerate}
	\item consistency of words / expressions
		\begin{itemize}
			\item avoid WE because I have written this thesis, so remove all personal references e.g. not We or I
			\item s vs 's vs. s' e.g. Agents vs. Agents's vs. Agents'
			\item case study vs. case-study (no -)
			\item Monad vs monad (lower/upper case?)
			\item speedup vs speed up vs speed-up
			\item types / function names / monad names ITALIC!?
			\item main-thread vs main thread
			\item avoid don't, won't, haven't, e.g.,... and write them all out
			\item be consistent about italics: use it for types, functions and emphasising certain word
		\end{itemize}
	\item proof reading
	
	\item reconcile all code into thesis code folder?
	
	\item extract all references of the thesis in separate file and manually fine-tune them so that they are perfect: including DOI, include link to webpage in case of a blog,...
	
	\item put my simulations of my phd into separate git repos each
\end{enumerate}

TODO prepare for viva:
\begin{enumerate}
	\item read transformers chapters
	
	\item read exception chapter

	\item read basic libraries chapter	
	
	\item completely understand monad-transformers: what is executed in which order? what about commutativity? e.g. STM is innermost monad, will be evaluated last to get an IO but this in fact leads then to the evaluation of all the monads before because STM is able to re-run
\end{enumerate}

%TODO: from the 2nd annual review i got the feedback that i need to come up with a more coherent thesis structure which tells a story: i need to make myself clear what story i want to tell with my phd and what research and publications i still need to do for that (identify chapters and to which extent they are already finished). Also I need to come up with a precise publication plan, focusing on writing papers early than doing research for a too long time and starting an early thesis writing. This is because any unpublished research is lost and every published research is a contribution to knowledge. "A good PhD is asking more questions than it answers."

\clearpage
\tableofcontents
\clearpage
\textit{To my parents for their unconditional love and support throughout all my life.}
\clearpage

\input{./tex/acknowledgements.tex}

% PART I: Preliminaries
\epigraphhead[450]{}
\part{Preliminaries}

\input{./tex/introduction.tex}

\input{./tex/literature.tex}

\input{./tex/methodology.tex}

\input{./tex/implAbs.tex}

% PART II: Towards
\epigraphhead[450]{}
\part{Towards pure functional ABS}
\input{./tex/timedriven.tex}

\input{./tex/eventdriven.tex}

\input{./tex/generalising.tex}

% PART III: Why 1: Parallel Computation
\epigraphhead[450]{}
\part{Parallel computation}
\input{./tex/parallelabs.tex}

% PART IV: Why 2: Property-Based Testing
\epigraphhead[450]{}
\part{Property-Based testing}
\input{./tex/property.tex}

% PART V: Discussion
\epigraphhead[450]{}
\part{Discussion}
\input{./tex/discussion.tex}

\renewcommand\bibname{References}

\bibliographystyle{acm}
\bibliography{../../writing/references/phdReferences}

% PART VI: Appendix
\epigraphhead[450]{}
\part{Appendices}
\input{./tex/appendix.tex}

\end{document}
