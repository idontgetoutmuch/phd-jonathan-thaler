\documentclass[oneside]{book}

\setcounter{tocdepth}{1}
\setcounter{secnumdepth}{3}

\usepackage[toc,page]{appendix}
\usepackage{minted}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{amsmath} 
\usepackage{subcaption}
\usepackage{epigraph}
\usepackage{titlesec}
\usepackage{multirow}
\usepackage{setspace}
\usepackage{mathtools}
\usepackage{afterpage}


% UNUSED
%\usepackage[english]{babel}
%\usepackage{pdflscape}
%\usepackage{pdfpages}
%\usepackage{float}
%\usepackage{verbatim}
%\usepackage[]{algorithm2e}

\interfootnotelinepenalty=10000

% define HaskellCode command for nice formatting of Haskell Code
\newminted[HaskellCode]{haskell}{fontsize=\footnotesize}
% needed for clearing page after title page
\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \addtocounter{page}{-1}%
    \newpage}
    
\makeatletter
\titleformat{\part}[display]
  {\Huge\scshape\filright}
  {\partname~\thepart:}
  {20pt}
  {\thispagestyle{epigraph}}
\makeatother
\setlength\epigraphwidth{.6\textwidth}

\begin{document}

\begin{titlepage}
	\centering
	%\includegraphics[width=0.60\textwidth]{./logo/UoN_Primary_Logo_RGB.png}\par\vspace{1cm}
	\includegraphics[width=0.60\textwidth]{./logo/coat_of_arms.jpg}\par\vspace{1cm}
	%{\scshape\Large Ph.D. Thesis\par}
	\vspace{1.5cm}
	%{\huge\bfseries Foundations Of Pure Functional \\ Agent-Based Simulation \par}
	{\huge\bfseries Pure Functional Programming \\ in Agent-Based Simulation \par}
	%{\huge\bfseries The Pure Functional Programming Paradigm \\ in Agent-Based Simulation \par}
	\vspace{2cm}
	%{\Large Jonathan Thaler (4276122) \\ \itshape jonathan.thaler@nottingham.ac.uk \par}
	{\Large by Jonathan Thaler \par}
	\vfill
	Thesis submitted to the University of Nottingham \par
	for the degree of Doctor of Philosophy \par
	
	\vfill
	
	\small
	supervised by\par
	Dr. Peer-Olaf \textsc{Siebers} \\
	Dr. Thorsten \textsc{Altenkirch}

	\vfill
	{\large \today\par}
\end{titlepage}

\cleardoublepage
\afterpage{\blankpage}
%\doublespacing

% TOC comes after title page according to UoN thesis guidelines
\clearpage
\tableofcontents

\newpage

\thispagestyle{plain}

\section*{Abstract}
This thesis systematically investigates the use of the \textit{pure} functional programming paradigm for implementing Agent-Based Simulations (ABS) and the benefits and drawbacks when doing so. As language of choice, Haskell is used due to its modern, \textit{pure} nature and increasing use in real-world applications. First, the thesis explores \textit{how} to implement ABS pure functionally, discussing both a time- and event-driven approach. In each case arrowized Functional Reactive Programming plays a fundamental role to derive fundamental abstractions and concepts. As use cases the well known explanatory agent-based SIR and the exploratory Sugarscape model are used. Then the thesis explores \textit{why} it is of benefit to implement ABS pure functionally, where it focuses on parallelism and concurrency and property-based testing. In the parallelism part, the main focus is on how to speedup the simulation but keeping it still pure, whereas in the concurrency part, Software Transactional Memory is used, sacrificing purity. Property-based testing is used to show how to encode full agent specifications, model invariants and do verification of the explanatory model directly in code. Further, hypothesis testing for the exploratory Sugarscape model is shown.

The derived concepts in this thesis show at length that \textit{pure} functional programming has indeed its place in ABS as it comes with unique benefits over the established object-oriented approach. A \textit{pure} functional approach in general should lead to implementations which are more likely to be correct due to the use of the strong static type system and focus on purity by avoiding \textit{IO} computations under all costs. Further, parallel computation makes it possible to gain substantial speedup by retaining static guarantees. The use of Software Transactional Memory speeds up concurrent implementations by a substantial factor, dramatically outperforms lock-based approaches while still retaining certain guarantees about reproducibility. Finally, the use of randomised property-based testing is shown to be highly effective as it maps naturally to the stochastic nature of ABS and is thus possible to be integrated into the development process as additional tool for testing specifications and hypotheses.

\clearpage

% SIZE OF THE THESIS
% WORD COUNT LIMIT IS 100.000, atm the thesis is around 96.000, use this command to count the words 'find . -name '*.tex' | xargs wc'
% MAYBE PARALLELISM CHAPTER CAN BE SCRAPPED

%TODO "cleaning up / polishing" milestone until beginning of September 2019
%\begin{enumerate}
%	\item read by my supervisors
%
%	\item read FP part by martin handley
%
%	\item read by james hey
%	
%	\item read by thomas schwarz for content
%		
%	\item move links from footnote into references and put full implementations of existing models from phd repo in separate gitrepso. e.g. sugarscape, SIR event and time as and reconcile all code into thesis code folder?
%
%	\item for references add hyperlinks using howpublished in case it is a blog or website (e.g. stephen diel what i wish...)	
%		
%	\item copy the xml definitions of the diagrams into the thesis folder
%
%	\item check for any violation of the guidelines https://www.nottingham.ac.uk/physics/currentstudents/pg-submissionguide.aspx
%	
%	\item epigraphs for all chapters?
%	\epigraph{The purpose of abstraction is not to be vague, but to create a new semantic level in which one can be absolutely precise.}{Dijkstra, EWD340}
%	
%	\item careful read of PRINT OUT
%	\begin{itemize}
%		\item Thus, However, Also, Next is usually followed by a comma	
%		\item avoid :, can be more compact in most cases	
%		\item types / function names / monad names texttt
%		\item instead of italics use texttt use it for types, functions and emphasising certain word, it looks better
%		\item when citing multiple references, make sure they are in ascending order of their reference number	
%		\item be consistent about hyphens and rather avoid them	
%	\end{itemize}
%
%	\item proof-reading by professional lector (Karly), focus on 
%	\begin{itemize}
%		\item s vs 's vs. s' e.g. Agents vs. Agents's vs. Agents'
%		\item what about: time-flow, pro-active?
%	\end{itemize}
%\end{enumerate}

% DEDICATION
\clearpage
\begin{center}
    \thispagestyle{empty}
    \vspace*{\fill}
    \textit{To my parents Irmentraud and Wolfgang. \\ For their unconditional love and support throughout all my life.}
    \vspace*{\fill}
\end{center}

% ACKNOWLEDGEMENTS
\clearpage
\input{./tex/acknowledgements.tex}

% PART I: Preliminaries
\epigraphhead[450]{}
\part{Preliminaries}
\label{part:preliminaries}
\input{./tex/introduction.tex}
\input{./tex/background.tex}
\input{./tex/implAbs.tex}

% PART II: Towards pure functional ABS
\epigraphhead[450]{}
\part{Implementation techniques}
\label{part:implementation}
\input{./tex/timedriven.tex}
\input{./tex/eventdriven.tex}

% PART III: Why 1: Parallel Computation
\epigraphhead[450]{}
\part{Parallel computation}
\label{part:parallel}
\input{./tex/parallelabs.tex}

% PART IV: Why 2: Property-Based Testing
\epigraphhead[450]{}
\part{Property-based testing}
\label{part:property}
\input{./tex/property.tex}

% PART V: Discussion
\epigraphhead[450]{}
\part{Discussion and Conclusion}
\label{part:discussion}
\input{./tex/discussion.tex}
\input{./tex/conclusion.tex}

% BIB
\renewcommand\bibname{References}
\bibliographystyle{acm} %apalike
\bibliography{bibliography}

% PART VI: Appendix
%\epigraphhead[450]{}
%\part{Appendices}
\input{./tex/appendix.tex}

\end{document}