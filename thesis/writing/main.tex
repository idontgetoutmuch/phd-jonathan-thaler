\documentclass[oneside]{book}

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{3}

\usepackage[toc,page]{appendix}
\usepackage{minted}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{amsmath} 
\usepackage{subcaption}
\usepackage{epigraph}
\usepackage{titlesec}
\usepackage{multirow}

% UNUSED
%\usepackage[english]{babel}
%\usepackage{pdflscape}
%\usepackage{pdfpages}
%\usepackage{float}
%\usepackage{verbatim}
%\usepackage[]{algorithm2e}

\interfootnotelinepenalty=10000

% define HaskellCode command for nice formatting of Haskell Code
\newminted[HaskellCode]{haskell}{fontsize=\footnotesize}

\makeatletter
\titleformat{\part}[display]
  {\Huge\scshape\filright}
  {\partname~\thepart:}
  {20pt}
  {\thispagestyle{epigraph}}
\makeatother
\setlength\epigraphwidth{.6\textwidth}

\begin{document}

\begin{titlepage}
	\centering
	\includegraphics[width=0.60\textwidth]{./logo/UoN_Primary_Logo_RGB.png}\par\vspace{1cm}
	{\scshape\Large PhD Thesis\par}
	\vspace{1.5cm}
	%{\huge\bfseries Foundations Of Pure Functional \\ Agent-Based Simulation \par}
%	{\huge\bfseries Pure Functional Programming \\ In Agent-Based Simulation \par}
	{\huge\bfseries The Pure Functional Programming Paradigm \\ In Agent-Based Simulation \par}
	\vspace{2cm}
	{\Large Jonathan Thaler (4276122) \\ \itshape jonathan.thaler@nottingham.ac.uk \par}
	\vfill
	supervised by\par
	Dr. Peer-Olaf \textsc{Siebers} \\
	Dr. Thorsten \textsc{Altenkirch}

	\vfill

	{\large \today\par}
\end{titlepage}

\cleardoublepage

\section*{Abstract}
This thesis systematically investigates the use of the \textit{pure} functional programming paradigm for implementing Agent-Based Simulations (ABS) and provides in-depth discussions on the benefits and drawbacks when doing so. As language of choice, Haskell is used due to its modern, \textit{pure} nature and increasing use in real-world applications. 

%The thesis presents various implementation techniques to ABS and then discusses concurrency and parallelism and verification and validation in ABS in a pure functional setting. Additionally the thesis briefly discusses the use of dependent types in ABS, to close the gap between specification and implementation - something the presented implementation techniques don't focus on.
%Finally a case-study is presented which tries to bring together the insights of the previous chapters by replicating an agent-based model both in pure and dependently typed functional programming. The agent-based model which was selected was much discussed in ABS communities as it claimed to have solved a fundamental problem of economics but it was then found that the implementation had a number of bugs which shed doubt on the validity and correctness of the results. The thesis' case study investigates whether this failure could have happened in pure and dependent functional programming and is a further test to see of how much value functional programming is to ABS.

\bigskip

TODO "first draft" milestone until return to UK 23rd June 2019
\begin{enumerate}
	\item LEAVE THE THESIS ASIDE FOR 2 WEEKS. then read whole thesis front to back, correct mistakes, spelling, inconsistencies and expression and if necessary correct / point out weaknesses in each chapter.
\end{enumerate}

TODO "finalise research" milestone until end of August 2019
\begin{enumerate}
	\item Reading: Ionescu thesis

	\item MANDATORY, HIGH EFFORT: write "The structure of ABS computation" section: extract the foundational properties: introduce continuations and closures and show how they are used in SF and MSF to be simple immutable objects, further discuss agents as monad / comonad / arrow and discuss their implications from an abstract point of view. This requires a lot of reading and some writing.

	\item MANDATORY, HIGH EFFORT: refine/rewrite event-driven implementation, it is too ad-hoc and the weakest (finished) chapter atm, see the chapter notes for more details on the rewrite. Need to give careful thought about the new structure, how we combine Sugarscape and event-driven SIR in it.
	
	%\item OPTIONAL, HIGH EFFORT: implement total SD and ABS SIR implementation in Idris on a very simple level to make the point that we can (or cannot) make use of dependent types in this context to show the totality of a simulation under given equilibrium assumption.
\end{enumerate}

TODO "cleaning up / polishing" milestone until end of September 2019
\begin{enumerate}
	\item another proof-reading by me	
	
	\item reading by thomas schwarz for content
		
	\item proof-reading by professional lector (Karly)

	\item consistency of words / expressions
		\begin{itemize}
			\item avoid WE because I have written this thesis, so remove all personal references e.g. not We or I
			\item s vs 's vs. s' e.g. Agents vs. Agents's vs. Agents'
			\item case study vs. case-study (no -)
			\item Monad vs monad - write them UPPER case
			\item speedup vs speed up vs speed-up
			\item types / function names / monad names ITALIC!?
			\item main-thread vs main thread
			\item avoid don't, won't, haven't, e.g.,... and write them all out
			\item avoid most hyphens: compile time, signal function, type system, type parameter,...
			\item be consistent about italics: use it for types, functions and emphasising certain word
		\end{itemize}
		
	\item when citing multiple references, make sure they are in ascending order of their reference number
	\item Fix all ? ref: papers and chapters
		
	\item proof reading
	
	\item put full implementations of existing models from phd repo in separate gitrepso. e.g. sugarscape, SIR event and time as and reconcile all code into thesis code folder?
	
	\item extract all references of the thesis in separate file and manually fine-tune them so that they are perfect: including DOI, include link to webpage in case of a blog,...
	
	\item put my simulations of my phd into separate git repos each
\end{enumerate}

TODO prepare for viva:
\begin{enumerate}
	\item read transformers chapters
	
	\item read exception chapter

	\item read basic libraries chapter	
	
	\item completely understand monad-transformers: what is executed in which order? what about commutativity? e.g. STM is innermost monad, will be evaluated last to get an IO but this in fact leads then to the evaluation of all the monads before because STM is able to re-run
	
	\item come up with technical and knowledge-based questions the examiners can ask: explain Monads; explain Monad Transformers; why don't Monads compose? What are shared-nothing semantics (in messaging)? 
	
	\item come up with tricky questions about my methodology, narrative and methods, pointing out weaknesses of my approach and of my thesis:
\end{enumerate}

%TODO: from the 2nd annual review i got the feedback that i need to come up with a more coherent thesis structure which tells a story: i need to make myself clear what story i want to tell with my phd and what research and publications i still need to do for that (identify chapters and to which extent they are already finished). Also I need to come up with a precise publication plan, focusing on writing papers early than doing research for a too long time and starting an early thesis writing. This is because any unpublished research is lost and every published research is a contribution to knowledge. "A good PhD is asking more questions than it answers."

\clearpage
\tableofcontents
\clearpage
\textit{To my parents for their unconditional love and support throughout all my life.}
\clearpage

\input{./tex/acknowledgements.tex}

% PART I: Preliminaries
\epigraphhead[450]{}
\part{Preliminaries}

\input{./tex/introduction.tex}

\input{./tex/background.tex}

\input{./tex/implAbs.tex}

% PART II: Towards
\epigraphhead[450]{}
\part{Towards pure functional ABS}
\input{./tex/timedriven.tex}

\input{./tex/eventdriven.tex}

\input{./tex/generalising.tex}

% PART III: Why 1: Parallel Computation
\epigraphhead[450]{}
\part{Parallel computation}
\input{./tex/parallelabs.tex}

% PART IV: Why 2: Property-Based Testing
\epigraphhead[450]{}
\part{Property-Based testing}
\input{./tex/property.tex}

% PART V: Discussion
\epigraphhead[450]{}
\part{Discussion and Conclusion}
\input{./tex/discussion.tex}

\renewcommand\bibname{References}

\bibliographystyle{acm}
\bibliography{../../writing/references/phdReferences}

% PART VI: Appendix
\epigraphhead[450]{}
\part{Appendices}
\input{./tex/appendix.tex}

\end{document}
